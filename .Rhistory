shiny::runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('waterLead')
runApp('waterLead')
shiny::runApp('waterLead')
runApp('~/git_proj/shiny_proj')
runApp('waterLead')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
head(df)
ls()
rm(list = ls())
ls()
df <- read.csv('./nys_ps_water_lead.csv')
colnames(df)
View(df)
library(dplyr)
countyList <- unique(df$county)
districtList <- unique(df$school.district)
class(countyList)
head(countyList)
countyList[1]
countyList[2]
length(countyList)
length(districtList)
head(df)
df1
df1 = head(df,4)
df1
df1$above15 = df1$outlet.greater.15ppb/df1$outlet.num
df1
colnames(df1)
df <- read.csv('water_lead.csv')
df$above15.pct = df$outlet.greater.15ppb/df$outlet.num
head(df)
head(df,2)
df <- read.csv('water_lead.csv')
colnames(df) <- tolower(colnames(df))
schoolLocation = as.character(df$school.location)
countyLocation = as.character(df$county.location)
address = lapply(schoolLocation, function(x) strsplit(x, split = '[\\(\\)]')[[1]][1])
df$address = unlist(address) # need to unlist before write.csv()
longLat = lapply(schoolLocation, function(x) strsplit(x, split = '[\\(\\)]')[[1]][2])
longLatMatrix = sapply(longLat, function(x) strsplit(x, split = ',')[[1]])
options(digits = 16)
longLatMatrix = apply(longLatMatrix,2, FUN=as.numeric)
df$school.long = longLatMatrix[1, ]
df$school.lat = longLatMatrix[2, ]
longLat = lapply(countyLocation, function(x) strsplit(x, split = '[\\(\\)]')[[1]][2])
longLatMatrix = sapply(longLat, function(x) strsplit(x, split = ',')[[1]])
longLatMatrix = apply(longLatMatrix,2, FUN=as.numeric)
df$county.long = longLatMatrix[1, ]
df$county.lat = longLatMatrix[2, ]
df$above15.pct = df$outlet.greater.15ppb/df$outlet.num
write.csv(df, 'nys_ps_water_lead.csv', row.names = FALSE)
rm
rm(list = ls())
df <- read.csv('water_lead.csv')
head(df, 2)
colnames(df)
df <- read.csv('water_lead.csv')
colnames(df) <- tolower(colnames(df))
schoolLocation = as.character(df$school.location)
countyLocation = as.character(df$county.location)
address = lapply(schoolLocation, function(x) strsplit(x, split = '[\\(\\)]')[[1]][1])
df$address = unlist(address) # need to unlist before write.csv()
longLat = lapply(schoolLocation, function(x) strsplit(x, split = '[\\(\\)]')[[1]][2])
longLatMatrix = sapply(longLat, function(x) strsplit(x, split = ',')[[1]])
options(digits = 16)
longLatMatrix = apply(longLatMatrix,2, FUN=as.numeric)
df$school.long = longLatMatrix[1, ]
df$school.lat = longLatMatrix[2, ]
longLat = lapply(countyLocation, function(x) strsplit(x, split = '[\\(\\)]')[[1]][2])
longLatMatrix = sapply(longLat, function(x) strsplit(x, split = ',')[[1]])
longLatMatrix = apply(longLatMatrix,2, FUN=as.numeric)
df$county.long = longLatMatrix[1, ]
df$county.lat = longLatMatrix[2, ]
df$above15.pct = df$outlet.greater.15ppb/df$outlet.num
write.csv(df, 'nys_ps_water_lead.csv', row.names = FALSE)
df <- read.csv('./nys_ps_water_lead.csv')
head(df)
shiny::runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
shiny::runApp('waterLead')
runApp('waterLead')
schoolList <- unique(df$school)
runApp('waterLead')
runApp('waterLead')
shiny::runApp('waterLead')
shiny::runApp('waterLead')
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('waterLead')
head(df)
df1=head(df)
df['county.long']
df1['county.long']
class(df1['county.long'])
df1
df1[school.state == 'NY', 'school.district']
df1[df1$school.state == 'NY', 'school.district']
class(df1[df1$school.state == 'NY', 'school.district'])
class(df1[df1$school.state == 'NY', 'county.long'])
class(df1['county.long'])
class(df1[df1$school.state == 'NY', c('county.long')])
class(df1[df1$school.state == 'NY', c('county.long', "county")])
df1[df1$school.state == 'NY', c('county.long', "county")]
df1[df1$school.state == 'NY', c('county.long', "county")]$county
df1[df1$school.state == 'NY', c('county.long', "county")]$county.long
runApp('waterLead')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('waterLead')
runApp('~/git_proj/shiny_proj')
rm(list=ls())
shiny::runApp('~/git_proj/shiny_proj')
ls()
rm(list=ls())
ls()
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
runApp('~/git_proj/shiny_proj')
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
shiny::runApp('waterLead')
runApp('waterLead')
head(df)
library(leaflet)
library(maps)
leaflet() %>% addTiles() %>% # Add default OpenStreetMap map tiles
addMarkers(lng=-74.0059, lat=40.7128, popup="New York City")
runApp('~/NYCDS10/week3/2.leaflet/leaflet')
library(googleVis)
head(mtcars, n=10)
head(mtcars, n=10)
source('~/NYCDS10/week3/2.googleVIS/googVis.R')
colnames(df)
runApp('waterLead')
runApp('waterLead')
colnames(df)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
head(df,2)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
df1 = head(df, 2)
df1
df1$school + '\n' + df1$address
map(lambda x,y: x + ' ' + y, df1$school, df1$address)
map(lambda x,y: x + ' ' + y, df1$school, df1$address)
map(function( x,y) x + ' ' + y, df1$school, df1$address)
map(function( x,y) x + ' ' + y, df1$school, df1$address))
map(function( x,y) x + ' ' + y, df1$school, df1$address)
pase0(c(2,4,5), c(5,6,7))
paste0(c(2,4,5), c(5,6,7))
paste(c(2,4,5), c(5,6,7),sep = '\n' )
paste(df1$school, df1$address, sep = '\n')
labelData <- paste(df$school, df$address, sep = '\n')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
nycounties <- geojsonio::geojson_read("json/nycounties.geojson", what = "sp")
install.packages("geojsonio")
library(geojsonio)
nycounties <- geojsonio::geojson_read("json/nycounties.geojson", what = "sp")
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
nycounties <- geojsonio::geojson_read("json/nycounties.geojson", what = "sp")
getwd()
library(geojsonio)
nycounties <- geojsonio::geojson_read("json/nycounties.geojson", what = "sp")
nycounties <- geojsonio::geojson_read("gz_2010_us_050_00_500k.json", what = "sp")
getwd()
install.packages("rjson")
library(rjson)
counties <-fromJSON(file = "http://eric.clst.org/wupl/Stuff/gz_2010_us_050_00_500k.json")
head(counties)
getwd()
counties <-fromJSON(file = "http://eric.clst.org/wupl/Stuff/gz_2010_us_050_00_500k.json")
class(counties)
counties <-fromJSON(file = "http://eric.clst.org/wupl/Stuff/gz_2010_us_050_00_500k.json")
nycounties
nycounties
nycounties <- geojsonio::geojson_read(counties, what = "sp")
?map()
install.packages("maps")
rm(counties)
ls()
?map()
?map
map('county', 'iowa', fill = TRUE, col = palette())
library(maps)
map('county', 'iowa', fill = TRUE, col = palette())
map('county', 'newyork', fill = TRUE, col = palette())
map('county', 'new york', fill = TRUE, col = palette())
map('county', 'new york', fill = TRUE, col = palette())
map('county', 'iowa', fill = TRUE, col = palette())
ls()
map('county', 'iowa', fill = TRUE, col = palette())
map('county', 'new york', fill = TRUE, col = palette())
?map()
shiny::runApp('waterLead')
?heat.colors
length(countyList)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
shiny::runApp('~/NYCDS10/week3/2.leaflet/leaflet')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
paste(c(1,2), c(3,4), c(5,6), sep = ', ')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
df$labelData <- paste(labelData, df$outlet.greater.15ppb, sep = 'Outlets >15ppb: ')
runApp('waterLead')
labelData <- paste(df$school, df$address, df$county, df$school.district, sep = ', ')
df$labelData <- paste(labelData, df$outlet.greater.15ppb, sep = ', Outlets >15ppb: ')
runApp('waterLead')
df$labelData <- paste(labelData, df$outlet.greater.15ppb, sep = ', Outlets >15ppb = ')
runApp('waterLead')
runApp('waterLead')
countyList <- unique(df$county)
districtList <- unique(df$school.district)
schoolList <- unique(df$school)
long = df$school.long
lat = df$school.lat
dtData <- df[c(1,2,3,9,26)]
labelData <- paste(df$school, df$address, df$county, df$school.district, sep = ', ')
df$labelData <- paste(labelData, df$outlet.greater.15ppb, sep = ', Outlets >15ppb = ')
runApp('waterLead')
runApp('~/NYCDS10/week2/5.flights/flights_final')
runApp('~/NYCDS10/week2/5.flights/flights_final')
runApp('~/NYCDS10/week2/5.flights/flights_final')
runApp('~/NYCDS10/week2/5.flights/flights')
flights <- fread(file = "~/nycds10/week2/5.flights/flights14.csv")
runApp('~/NYCDS10/week2/5.flights/flights_final')
runApp('~/NYCDS10/week2/5.flights/flights_final')
runApp('~/git_proj/shiny_proj')
colnames(fundamentals)
runApp('~/git_proj/shiny_proj')
colnames(df)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('~/git_proj/shiny_proj')
runApp('waterLead')
library(ggplot2)
df1
head(df,3)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
ggplot(data = df, aes(y = outlet.greater.15ppb, fill = count))
rm(list=ls())
rm(list=ls())
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
data(faithful)
# 2.1
faithful$length <- ifelse(faithful$eruptions < 3.2, 'short', 'long')
# 2.2
g2.2 <- ggplot(data = faithful, aes(x = length, y = waiting)) +
geom_boxplot(aes(color = length))
show(g2.2)
# 2.3
g2.3 <- ggplot(data = faithful, aes(x = waiting)) +
geom_density(aes(color = length))
show(g2.3
g2.3 <- ggplot(data = faithful, aes(x = waiting)) +
geom_density(aes(color = length))
show(g2.3)
runApp('waterLead')
runApp('waterLead')
runApp('~/NYCDS10/week2/5.flights/flights_final')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
colnames(df_joined)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
colnames(df)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
colnames(df)
runApp('waterLead')
colnames(df)
runApp('waterLead')
runApp('waterLead')
head(df,2)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
colnames(df)
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
rm(list = ls())
runApp('waterLead')
runApp('waterLead')
head(df)
head(df,2)
colnames(df)
shiny::runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
runApp('waterLead')
summarise(df)
summary(df)
colnames(df)
head(df[1])
levels(df$org.type)
nrow(filter(df$org.type == 'BOCES School' ))
nrow(filter(df,df$org.type == 'BOCES School' ))
ggplot(df, aes(y = above15.pct, color = org.type)) + geom_boxplot()
ggplot(df, aes(x = above15.pct, y = org.type)) + geom_boxplot()
ggplot(df, aes(y = above15.pct, x = org.type)) + geom_boxplot()
ggplot(df, aes(y = above15.pct, x = org.type)) + geom_boxplot(aes(color = county))
ggplot(df, aes(y = above15.pct, x = org.type)) + geom_boxplot(aes(color = county), show.legend = FALSE)
runApp('waterLead')
